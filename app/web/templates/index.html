{% extends "base.html" %}
{% block content %}
<section id="auth" class="section">
  <h2>Авторизація</h2>
  <div class="card">
    <h3>Реєстрація</h3>
    <div class="grid">
      <input id="reg-email" type="email" placeholder="email"/>
      <input id="reg-pass" type="password" placeholder="пароль (мін. 8)"/>
      <button id="btn-register">Зареєструвати</button>
    </div>
    <p class="hint">* Якщо SMTP не налаштовано — токен верифікації з'явиться в логах серверу.</p>
  </div>

  <div class="card">
    <h3>Логін</h3>
    <div class="grid">
      <input id="login-email" type="email" placeholder="email"/>
      <input id="login-pass" type="password" placeholder="пароль"/>
      <button id="btn-login">Увійти</button>
    </div>
    <div class="grid">
      <input id="verify-token" type="text" placeholder="Токен підтвердження email"/>
      <button id="btn-verify">Підтвердити email</button>
    </div>
    <div class="grid">
      <input id="forgot-email" type="email" placeholder="email для скидання пароля"/>
      <button id="btn-forgot">Надіслати лист для скидання</button>
    </div>
    <div class="grid">
      <input id="reset-token" type="text" placeholder="Токен скидання пароля"/>
      <input id="new-pass" type="password" placeholder="Новий пароль"/>
      <button id="btn-reset">Скинути пароль</button>
    </div>
    <div class="grid">
      <button id="btn-refresh">Оновити access по refresh</button>
      <button id="btn-logout">Вийти</button>
    </div>
    <pre id="auth-out" class="out"></pre>
  </div>
</section>

<section id="contacts" class="section hidden">
  <h2>Контакти</h2>
  <div class="card">
    <h3>Створити контакт</h3>
    <div class="grid">
      <input id="c-first" placeholder="Ім'я"/>
      <input id="c-last" placeholder="Прізвище"/>
      <input id="c-email" type="email" placeholder="email"/>
      <input id="c-phone" placeholder="Телефон"/>
      <input id="c-bday" type="date" placeholder="День народження"/>
      <input id="c-extra" placeholder="Додатково (необов.)"/>
      <button id="btn-create-contact">Створити</button>
    </div>
  </div>

  <div class="card">
    <h3>Список контактів</h3>
    <div class="grid">
      <input id="q-first" placeholder="пошук: ім'я"/>
      <input id="q-last" placeholder="пошук: прізвище"/>
      <input id="q-email" placeholder="пошук: email"/>
      <button id="btn-load-contacts">Оновити</button>
    </div>
    <table id="contacts-table" class="table">
      <thead><tr><th>ID</th><th>Ім'я</th><th>Прізвище</th><th>Email</th><th>Телефон</th><th>ДР</th><th>Дії</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="card">
    <h3>Дні народження (на 7 днів)</h3>
    <button id="btn-upcoming">Показати</button>
    <ul id="upcoming-list"></ul>
  </div>
</section>

<section id="account" class="section hidden">
  <h2>Мій акаунт</h2>
  <div class="card">
    <button id="btn-me">Завантажити профіль</button>
    <pre id="me-out" class="out"></pre>
  </div>
  <div class="card">
    <h3>Оновити аватар</h3>
    <input id="avatar-file" type="file" accept="image/*"/>
    <button id="btn-upload-avatar">Завантажити</button>
    <pre id="avatar-out" class="out"></pre>
    <p class="hint">* Без CLOUDINARY_URL ендпоінт поверне 503 — це очікувано.</p>
  </div>
</section>

<section id="admin" class="section hidden">
  <h2>Адмін</h2>
  <div class="card">
    <div class="grid">
      <input id="def-avatar-url" placeholder="URL аватару за замовчуванням"/>
      <button id="btn-set-default-avatar">Зберегти</button>
      <button id="btn-get-default-avatar">Поточний</button>
    </div>
    <pre id="admin-out" class="out"></pre>
    <p class="hint">* Доступ лише для ролі <code>admin</code>.</p>
  </div>
</section>

<section id="diagnostics" class="section hidden">
  <h2>Діагностика</h2>
  <div class="card">
    <button id="btn-ping">Ping /docs</button>
    <pre id="diag-out" class="out"></pre>
  </div>
</section>
{% endblock %}